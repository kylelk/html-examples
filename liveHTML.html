<!DOCTYPE html>
<title>Live HTML tester</title>
<h1 id="Pagetitle">Live HTML tester</h1>
<html>
    <head>
    </head>
    
<style>
h1
{
    text-align: center;
}
textarea
{
    vertical-align: top;
    width:100%;
    
}
iframe
{
    vertical-align: bottom;
    width:100%;
}
</style>
<body>
    <input id="browseOpen" type="file"/>
    <textarea 
        rows="20" 
        id="HTMLdata"
        placeholder="Enter HTML code"
        onKeyPress="edValueKeyPress() 
        "onKeyUp="edValueKeyPress()">
    </textarea>
    <iframe id="test_iframe" src="about:blank" width="100%" height=400></iframe>
</body>

<script language="javascript">
    var fileInput = document.getElementById("browseOpen");
    fileInput.onchange = function() {
        var fr = new FileReader();
        fr.onloadend = function() {
            var result = this.result;
            html_string = result;
            //alert(result);
            var TheText = document.getElementById("HTMLdata");
            TheText.innerText=result;
            edValueKeyPress();
        };
        fr.readAsBinaryString(this.files[0]);
    };
    function edValueKeyPress(){
        var edValue = document.getElementById("HTMLdata");
        var html_string = edValue.value;

        var iframe = document.getElementById('test_iframe');

        var iframedoc = iframe.document;
            if (iframe.contentDocument)
                iframedoc = iframe.contentDocument;
            else if (iframe.contentWindow)
                iframedoc = iframe.contentWindow.document;

         if (iframedoc){
             iframedoc.open();
             iframedoc.writeln(html_string);
             iframedoc.close();
         } else {
            alert('Cannot inject dynamic contents into iframe.');
         }

    }

</script>
<div style="float: bottom;">
	<a 
	href="https://twitter.com/share" 
	class="twitter-share-button" 
	data-via="KerseyKyle" 
	data-url="http://kylelk.github.io/html-examples/liveHTML.html" 
	data-related="kerseykyle" 
	data-hashtags="HTML">Tweet</a>
	<script>
		! function (d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0],
				p = /^http:/.test(d.location) ? 'http' : 'https';
			if (!d.getElementById(id)) {
				js = d.createElement(s);
				js.id = id;
				js.src = p + '://platform.twitter.com/widgets.js';
				fjs.parentNode.insertBefore(js, fjs);
			}
		}(document, 'script', 'twitter-wjs');
	</script>
</div>
</html>
<!DOCTYPE html>
<title>Live HTML tester</title>
<h1 id="Pagetitle">Live HTML tester</h1>
<html>
    <head>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48664735-1', 'kylelk.github.io');
  ga('send', 'pageview');

</script>
</head>
    
<style>
h1
{
    text-align: center;
}
textarea
{
    vertical-align: top;
    width:100%;
    
}
iframe
{
    vertical-align: bottom;
    width:100%;
}
</style>
<body>
    <input id="browseOpen" type="file"/>
    <textarea 
        rows="20" 
        id="HTMLdata"
        placeholder="Enter HTML code"
        onKeyPress="edValueKeyPress() 
        "onKeyUp="edValueKeyPress()">
    </textarea>
    <iframe id="test_iframe" src="about:blank" width="100%" height=400></iframe>
</body>

<script language="javascript">
    var fileInput = document.getElementById("browseOpen");
    fileInput.onchange = function() {
        var fr = new FileReader();
        fr.onloadend = function() {
            var result = this.result;
            html_string = result;
            //alert(result);
            var TheText = document.getElementById("HTMLdata");
            TheText.innerText=result;
            edValueKeyPress();
        };
        fr.readAsBinaryString(this.files[0]);
    };
    function edValueKeyPress(){
        var edValue = document.getElementById("HTMLdata");
        var html_string = edValue.value;

        var iframe = document.getElementById('test_iframe');

        var iframedoc = iframe.document;
            if (iframe.contentDocument)
                iframedoc = iframe.contentDocument;
            else if (iframe.contentWindow)
                iframedoc = iframe.contentWindow.document;

         if (iframedoc){
             iframedoc.open();
             iframedoc.writeln(html_string);
             iframedoc.close();
         } else {
            alert('Cannot inject dynamic contents into iframe.');
         }

    }

</script>
<div style="float: bottom;">
	<a 
	href="https://twitter.com/share" 
	class="twitter-share-button" 
	data-via="KerseyKyle" 
	data-url="http://kylelk.github.io/html-examples/liveHTML.html" 
	data-related="kerseykyle" 
	data-hashtags="HTML">Tweet</a>
	<script>
		! function (d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0],
				p = /^http:/.test(d.location) ? 'http' : 'https';
			if (!d.getElementById(id)) {
				js = d.createElement(s);
				js.id = id;
				js.src = p + '://platform.twitter.com/widgets.js';
				fjs.parentNode.insertBefore(js, fjs);
			}
		}(document, 'script', 'twitter-wjs');
	</script>
</div>
</html>
